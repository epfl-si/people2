# STAGING deployment on openshift.
# Same namespace, databases, attachments storage, etc. as prod
# Same secrets as prod
# Custom app configuration
all:
  hosts:
    next:
      ansible_connection: local
      ansible_python_interpreter: "{{ ansible_playbook_python }}"
  vars:
    inventory_environment: "prod"

    APP_HOSTNAME: "people-next.epfl.ch"
    APP_REPLICAS: 1
    JOB_REPLICAS: 1
    APP_VISIBILITY: "private"
    # APP_VISIBILITY: "public"
    ENABLE_ADOPTION: "yes"
    # ISA_URL: https://isa.epfl.ch/services
    OC_CLUSTER: "https://api.ocpitsp0001.xaas.epfl.ch:6443"
    OC_NAMESPACE: svc0033p-people
    RUNENV: prod
    RAILS_ENV: production
    RELEASE: next
    USE_LOCAL_ELEMENTS: "yes"
    LEGACY_RW_URL: "https://test-people.epfl.ch"
    EPFLAPI_BACKEND_URL: "https://api.epfl.ch/v1"
    WSGETPEOPLE_CACHE: 0
    NAME_CHANGE_REQUEST_EMAIL: 'name.change@groupes.epfl.ch'
    # EPFLAPI_BACKEND_URL: "https://api-test.epfl.ch/v1"
    TRUSTED_PROXIES: 10.98.42.220,10.98.42.211,10.98.42.218,10.20.52.7
